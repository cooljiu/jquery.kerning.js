(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;e=function(a){var b,c,d;if(null===a)return null;for(d="";c=a.shift();)127>=c?d+=String.fromCharCode(c):223>=c?(b=(31&c)<<6,b+=63&a.shift(),d+=String.fromCharCode(b)):224>=c?(b=(31&a.shift())<<6|2048,b+=63&a.shift(),d+=String.fromCharCode(b)):(b=(15&c)<<12,b+=(63&a.shift())<<6,b+=63&a.shift(),d+=String.fromCharCode(b));return d},d=function(a){return parseInt(a,16)},c=function(a){var b,c,e,f;for(c=[],b=e=0,f=a.length;f>e;b=e+=2)c.push(d(a.substr(b,2)));return c},f=function(a){var b,d;return b=c(a),d=e(b)},window.pointer=0,window.pointerHistory=[],window.data=null,u=function(a,b){return b&&console.log("_move",a,s(a)),window.pointer=a},w=function(){return window.pointerHistory.push(window.pointer)},v=function(){return window.pointer=window.pointerHistory.pop()},t=function(){return console.log("pointer",s(window.pointer))},x=function(a){var b,c,d,e;for(c="",b=d=0,e=a.length;e>=0?e>d:d>e;b=e>=0?++d:--d)c+=("00"+a[b].toString(16)).substr(-2);return c},s=function(a){return"0x"+a.toString(16).toUpperCase()},h=function(a){return r(1,a)},g=function(a){return r(2,a)},o=g,m=function(a){return r(4,a)},i=function(a){var b;return b=x(q(4)),a&&console.log(parseInt(b,16),b),parseFloat(b,16)},p=function(){return"0x"+x(q(2))},n=function(){return"0x"+x(q(4))},l=function(){return k(4)},k=function(a){return f(x(q(a)))},j=function(){var a,b,c,d,e,f,i,j,l,m;if(a=g(),0===a)return{count:0};for(e=h(),d=[],c=i=0;a>=0?a>=i:i>=a;c=a>=0?++i:--i)d.push(r(e));for(f=window.pointer,b=[],c=j=0;a>=0?a>j:j>a;c=a>=0?++j:--j)m=d[c]-1,l=d[c+1]-d[c],u(f+m),b.push(k(l));return{count:a,offsetSize:e,offset:d,data:b}},q=function(a){var b;return b=window.pointer,window.pointer+=a,window.data.subarray(b,window.pointer)},r=function(a,b){var c;return c=x(q(a)),b&&console.log(window.pointer,s(window.pointer),parseInt(c,16),c),parseInt(c,16)},a=function(a){return a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"},b=function(a){var b,c,d,e,f,g;for(a.stopPropagation(),a.preventDefault(),c=a.dataTransfer.files,g=[],e=0,f=c.length;f>e;e++)b=c[e],d=new FileReader,d.onload=function(){var a,b,c,e,f,g,r,s,t,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,ab,bb,cb,db,eb,fb,gb;for(window.data=new Uint8Array(d.result),c={OffsetTable:{version:n(),numTables:o(),searchRange:o(),entrySelector:o(),rangeShift:o()},TableDirectory:{}},A=G=0,R=c.OffsetTable.numTables;R>=0?R>G:G>R;A=R>=0?++G:--G)F=String.fromCharCode.apply(null,q(4)).replace(" ",""),c.TableDirectory[F]={checkSum:n(),offset:m(),length:m()};for(u(c.TableDirectory.name.offset),c.name={format:o(),count:o(),offset:o(),records:[]},A=H=0,S=c.name.count;S>=0?S>H:H>S;A=S>=0?++H:--H)c.name.records.push({platformID:o(),encordingID:o(),languageId:o(),nameId:o(),length:o(),offset:o()});for(E=c.TableDirectory.name.offset+c.name.offset,A=I=0,W=c.name.count;W>=0?W>I:I>W;A=W>=0?++I:--I)N=E+c.name.records[A].offset,u(N),c.name.records[A].nameString=k(c.name.records[A].length);for(X=c.name.records.length,K=0,J=X.length;J>K;K++)D=X[K],0===D.languageId&&4===D.nameId&&console.log(D.nameString);for(u(c.TableDirectory.cmap.offset),c.cmap={version:o(),numTables:o(),encodingRecords:[]},A=L=0,Y=c.cmap.numTables;Y>=0?Y>L:L>Y;A=Y>=0?++L:--L)c.cmap.encodingRecords.push({platformID:o(),encordingID:o(),offset:m()});for(u(c.TableDirectory.CFF.offset),c.CFF={Header:{major:h(),minor:h(),headerSize:h(),offsetSize:h()},Name:null},c.CFF.Name=j(),u(c.TableDirectory.GPOS.offset),c.GPOS={Header:{Version:i(),ScriptList:o(),FeatureList:o(),LookupList:o()},ScriptList:null,FeatureList:null,LookupList:null,Lookups:[]},s=c.TableDirectory.GPOS.offset+c.GPOS.Header.ScriptList,u(s),c.GPOS.ScriptList={ScriptCount:o(),ScriptRecord:[]},A=M=0,Z=c.GPOS.ScriptList.ScriptCount;Z>=0?Z>M:M>Z;A=Z>=0?++M:--M){for(t={ScriptTag:l(),ScriptOffset:o(),Script:{}},x=s+t.ScriptOffset,w(),u(x),t.Script={DefaultLangSys:o(),LangSysCount:o(),LangSysRecord:[]},B=O=0,_=t.Script.LangSysCount;_>=0?_>O:O>_;B=_>=0?++O:--O)e={LangSysTag:l(),LangSysOffset:o(),LangSys:{}},w(),u(x+e.LangSysOffset),e.LangSys={LookupOrder:o(),ReqFeatureIndex:o(),FeatureCount:o(),FeatureIndex:[]},t.Script.LangSysRecord.push(e),v();c.GPOS.ScriptList.ScriptRecord.push(t),v()}for(a=c.TableDirectory.GPOS.offset+c.GPOS.Header.FeatureList,u(a),c.GPOS.FeatureList={FeatureCount:o(),FeatureRecord:[]},A=P=0,ab=c.GPOS.FeatureList.FeatureCount;ab>=0?ab>P:P>ab;A=ab>=0?++P:--P){for(b={FeatureTag:l(),FeatureOffset:o(),Feature:{}},w(),u(a+b.FeatureOffset),b.Feature={FeatureParams:o(),LookupCount:o(),LookupListIndex:[]},B=Q=0,bb=b.Feature.LookupCount;bb>=0?bb>Q:Q>bb;B=bb>=0?++Q:--Q)b.Feature.LookupListIndex.push(o());c.GPOS.FeatureList.FeatureRecord.push(b),v()}for(g=c.TableDirectory.GPOS.offset+c.GPOS.Header.LookupList,u(g),c.GPOS.LookupList={LookupCount:o(),Lookup:[]},A=db=0,cb=c.GPOS.LookupList.LookupCount;cb>=0?cb>db:db>cb;A=cb>=0?++db:--db)c.GPOS.LookupList.Lookup.push(o());for(A=eb=0,T=c.GPOS.LookupList.LookupCount;T>=0?T>eb:eb>T;A=T>=0?++eb:--eb){for(r=g+c.GPOS.LookupList.Lookup[A],u(r),f={LookupType:o(),LookupFlag:p(),SubTableCount:o(),MarkFilteringSet:null,SubTable:[]},y=[],B=fb=0,U=f.SubTableCount;U>=0?U>fb:fb>U;B=U>=0?++fb:--fb)y.push(o());for(f.MarkFilteringSet=o(),w(),C=gb=0,V=f.SubTableCount;V>=0?V>gb:gb>V;C=V>=0?++gb:--gb)z=y[C],u(r+z);v(),c.GPOS.Lookups.push(f)}return $("#output").html(JSON.stringify(c.CFF,null,"	"))},g.push(d.readAsArrayBuffer(b));return g},$(function(){var c;return window.File&&window.FileReader&&window.FileList&&window.Blob?(c=document.getElementById("dropzone"),c.addEventListener("dragover",a,!1),c.addEventListener("drop",b,!1)):console.error("The File APIs are not fully supported in this browser.")})}).call(this);
//# sourceMappingURL=script/main.js.map